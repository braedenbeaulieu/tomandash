!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=66)}({66:function(t,e,a){t.exports=a(67)},67:function(t,e){$(document).ready(function(){var t=$("<p></p>").attr("class","error-message").hide(),e=!1,a=!1,n=!1;$(".upload-image-submit").on("click",function(){"button"===$(this).attr("type")&&(!1===n&&t.text("You must select at least one tag.").appendTo($(".tags-container")).hide().fadeIn(),!1===a&&t.text("You must write an image description.").appendTo($(".description-image")).hide().fadeIn(),!1===e&&t.text("You must select an image.").appendTo($(".upload-image-container")).hide().fadeIn())}),$(".upload-image-button").on("click",function(){e=!1,a=!1,n=!1}),$(".cant-upload").on("click",function(){t.text("You must log in to upload an image.").appendTo($(".cant-upload").parent()).hide().fadeIn()}),$(".upload-image-container").on("click",function(){e=!0,!0===a&&!0===e&&!0===n&&$(".upload-image-submit").attr("type","submit")}),$(".image-description").on("blur",function(){$(this).val()&&(a=!0),!0===a&&!0===e&&!0===n&&$(".upload-image-submit").attr("type","submit")}),$(".tags-container").on("click",function(t){!0===$(t.target).prop("checked")?n=!0:!1===$(t.target).prop("checked")&&(n=!1),!0===a&&!0===e&&!0===n&&$(".upload-image-submit").attr("type","submit")});var i=$(".grid").imagesLoaded(function(){i.masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0})});$("#filter a").on("click",function(t){var e=$(t.target).parents();e.addClass("highlight"),e.siblings().hasClass("highlight")&&e.siblings().removeClass("highlight");var a=$(this).text().toLowerCase().replace(" ","-");return"all"===a?($(".d-none").show().removeClass("d-none"),$(".picture a").attr("data-lightbox","gallery"),$(".edit-delete-image").show(),i.masonry("layout")):$(".picture").each(function(){$(this).hasClass(a)?($(this).siblings(".edit-delete-image").show(),$(this).show().removeClass("d-none"),$(this).find("a").attr("data-lightbox","gallery"),i.masonry("layout")):($(this).hide().addClass("d-none"),$(this).siblings(".edit-delete-image").hide(),$(this).find("a").attr("data-lightbox",""))}),!1}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".grid").on("click",function(t){var e=$(t.target);if(e.hasClass("delete-image-button")){var a=e.parent().parent().parent().attr("id");$.ajax({url:"/CAKE/public/gallery/"+a,type:"delete",data:{image_id:a},success:function(){e.parent().parent().parent().hide().addClass("d-none"),i.masonry("layout")},error:function(t,a,n){console.log(a+" = "+n),e.parent().parent().parent().hide().addClass("d-none"),i.masonry("layout")}}),i.masonry("layout")}else if(e.hasClass("edit-image-button")){var n,r,o,s,l="";s="https://cake.scweb.ca/tomandash/gallery/"+(n=e.attr("id")),r=e.parent().parent().siblings().children("#anchor").attr("data-title"),l=e.parent().parent().siblings().attr("id"),o=e.parent().parent().siblings().children("#anchor").attr("href"),l=l.trim().split(" ");var d=$(".edit-image-form");d.attr("action",s),d.siblings("img").attr("src",o),d.children("#name").children("input").attr("value",n),d.children("#description").children("textarea").val(r)}})})}});